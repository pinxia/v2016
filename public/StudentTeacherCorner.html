<!DOCTYPE html>
<html>
    <head>
        <title>Student Teacher Corner</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="assets/css/bootstrap.css" />
        <link rel="stylesheet" href="assets/css/index.css" />
    </head>
    <body>
        <section id="studentTeacherCornerArea" class="container">
            <h3 class='text-center'>Student Work Display (中文学校学生习作展览)</h3>
            <div class="row">
                <div class="col-md-3">
                    <select id="grade" name="grade" class="studentTeacherCorner">
                        <option value="Choose">Select a grade</option>
                        <option value="k1">Kindergarden</option>
                        <option value="k2">Grade 2</option>
                        <option value="k3">Grade 3</option>
                        <option value="k4">Grade 4</option>
                        <option value="k5">Grade 5</option>
                        <option value="k6">Grade 6 </option>
                        <option value="k7">Grade 7</option>
                        <option value="k8">Grade 8</option>
                        <option value="k9">Grade 9</option>
                        <option value="k10">Grade 10</option>
                       <option value="drawing">Drawing Class</option>
                       <option value="painting">Painting Class</option>
                    </select>
                    <select id="term" name="term" class="studentTeacherCorner">
                        <option value="Spring2015">Spring 2015</option>
                        <option value="Fall2015" selected>Fall 2015</option>
                    </select>

                    <div id="sessions"></div>
                </div>
                <div class="col-md-9">
                    <div id="details">&nbsp;</div>
                </div>
            </div>
        </section>
        <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script>
        $(".studentTeacherCorner").on('change', function () {
                $("#sessions").html("");
                var term = $("#term").value;
                var grade = $("#grade").val();

                if (grade === "Choose") {
                    alert("Please select a grade");
                }
                else { 
                  var term = $("#term").val();
                  var grade = $("#grade").val();  
                  var fragment = grade +term;
                  //  alert("loading " + "htmlFiles/StudentWork/" + term + ".html" + " #" + fragment);
                  $("#sessions").load("htmlFiles/StudentWork/" + term + ".html" + " #" + fragment);
               }
            });

            $("#studentTeacherCornerArea").on('click', '#sessions li a', function (e) {
                e.preventDefault();
                $('#details').html("");
                //  var target = event.target || event.srcElement;
                // alert (event.target.innerHTML);
                // alert(target.element);
                var url = this.href;
                // alert(url);
                $('#details').append('<object>');
                $('object').attr('data', url);
                $('object').attr('type', "application/pdf");
                $('object').append('<embed>');
                $('embed').attr('src', url);
                $('embed').attr('type', "application/pdf");
                $('embed').attr('width', "100%");
                $('embed').attr('height', "100%");
                $('#sessions a.current').removeClass('current');
                $(this).addClass('current');
            });

        </script> 
    </body>
</html>
